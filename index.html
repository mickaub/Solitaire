<!DOCTYPE html>
<html>
<head>
<title> Solitaire JS
</title>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
</head>
<style>
/*don't start CSS with a number*/   
*{
    background-color: rgb(0, 166, 255);
}

.foundation-container{
    display: grid;
    grid-template-columns: auto auto auto auto;
    gap: 10px;
    padding: 10px;
    margin-left: 650px;        
    width: 600px;
    background-color: teal;
}
.board-container{
    display: grid;
    grid-template-columns: auto auto auto auto auto auto auto;
    gap: 10px;
    padding: 10px;
    height: 1200px;
}
.card{
    background-color: white;
    height: 120px;
    width: 100px;
    border: solid 2px black;
    font-size: 120px;   
    padding-bottom: 20px;  
    padding-left: 20px;
    color: black;
}
.new-card-block{
    display: flex;
}
#pile{
    margin-right: 50px;
    background-color: yellow;
}
#new-card{
    background-color: white;
}
#HF,#DF{
    color: red;
}
.second-row{
    margin-top: -180px;
}
.covered{
    background-color: rgb(255, 245, 100);
    font-size: 0px;
}
.deck-button{
    height: 60px;
    margin: auto 20px;
}
</style>

<body>    
    <!--Four foundation cards, 7 rows of cards and the deck with 1/3 cards
    Hearts, Diamonds, Clubs, Spades-->
    <h1 style="text-align: center;">Solitaire Game</h1>  
    <div id="victory"></div>
    <div id="foundation-array"></div>
    <div id="board-array"></div>
    <div id="deck-array"></div>
    <div id="front-div"></div>
    <div id="match"></div>
    <div>
        <button id="move-to-found" class="deck-button">Move to Found</button>
        <button id="move-from-found" class="deck-button">Move from Found</button>
        <div class="foundation-container">
            <div class="card" id="HF"></div>
            <div class="card" id="DF"></div>
            <div class="card" id="CF"></div>
            <div class="card" id="SF"></div>
        </div>    
    </div>
    <br>       
    <button id="move-from-col">Move From Column</button>
    <button id="move-from-col">Move From Column</button>
    <button id="move-from-col">Move From Column</button>
    <button id="move-from-col">Move From Column</button>
    <button id="move-from-col">Move From Column</button>
    <button id="move-from-col">Move From Column</button>
    <button id="move-from-col">Move From Column</button>
    <br>
    <button id="move-to-col">Move To Column</button>
    <button id="move-to-col">Move To Column</button>
    <button id="move-to-col">Move To Column</button>
    <button id="move-to-col">Move To Column</button>
    <button id="move-to-col">Move To Column</button>
    <button id="move-to-col">Move To Column</button>
    <button id="move-to-col">Move To Column</button>
    <br>
    <div class="board-container" id="board-container">         
    </div>    
    <br>    
    <div class="new-card-block">
        <div class="card" id="pile"></div>
        <div class="card" id="new-card"></div>       
        <button id="swap-deck" onclick="SwapDeck()"class="deck-button">Next Card</button>
        <button id="deck-to-board1" onclick="UpToBoard(0)"class="deck-button">Move to Board</button>
        <button id="deck-to-board2" onclick="UpToBoard(1)"class="deck-button">Move to Board</button>
        <button id="deck-to-board3" onclick="UpToBoard(2)"class="deck-button">Move to Board</button>
        <button id="deck-to-board4" onclick="UpToBoard(3)"class="deck-button">Move to Board</button>
        <button id="deck-to-board5" onclick="UpToBoard(4)"class="deck-button">Move to Board</button>
        <button id="deck-to-board6" onclick="UpToBoard(5)"class="deck-button">Move to Board</button>
        <button id="deck-to-board7" onclick="UpToBoard(6)"class="deck-button">Move to Board</button>
        <button id="deck-to-found" onclick="UpToFound()"class="deck-button">Move to Foundation</button>
    </div>
</body>

<script>
    /*
    foundation arrays change
    column arrays change
    deck array can go to 0
    */
function Card (value, sym, col, text, id){
    this.value = value;
    this.sym = sym;
    this.col = col;
    this.text = text;
    this.id = id;
}

//Can't start variables with a number either
let pre = "&#x1F0";
const c1h = new Card("1","H","R","&#x1F0B1","0");
const c2h = new Card("2","H","R",pre+"B2","1");
const c3h = new Card("3","H","R",pre+"B3","2");
const c4h = new Card("4","H","R",pre+"B4","3");
const c5h = new Card("5","H","R",pre+"B5","4");
const c6h = new Card("6","H","R",pre+"B6","5");
const c7h = new Card("7","H","R",pre+"B7","6");
const c8h = new Card("8","H","R",pre+"B8","7");
const c9h = new Card("9","H","R",pre+"B9","8");
const c10h = new Card("10","H","R",pre+"BA","9");
const cJh = new Card("J","H","R",pre+"BB","10");
const cQh = new Card("Q","H","R",pre+"BD","11");
const cKh = new Card("K","H","R",pre+"BE","12");

const c1d = new Card("1","D","R",pre+"C1","13");
const c2d = new Card("2","D","R",pre+"C2","14");
const c3d = new Card("3","D","R",pre+"C3","15");
const c4d = new Card("4","D","R",pre+"C4","16");
const c5d = new Card("5","D","R",pre+"C5","17");
const c6d = new Card("6","D","R",pre+"C6","18");
const c7d = new Card("7","D","R",pre+"C7","19");
const c8d = new Card("8","D","R",pre+"C8","20");
const c9d = new Card("9","D","R",pre+"C9","21");
const c10d = new Card("10","D","R",pre+"CA","22");
const cJd = new Card("J","D","R",pre+"CB","23");
const cQd = new Card("Q","D","R",pre+"CD","24");
const cKd = new Card("K","D","R",pre+"CE","25");

const c1c = new Card("1","C","B",pre+"D1","26");
const c2c = new Card("2","C","B",pre+"D2","27");
const c3c = new Card("3","C","B",pre+"D3","28");
const c4c = new Card("4","C","B",pre+"D4","29");
const c5c = new Card("5","C","B",pre+"D5","30");
const c6c = new Card("6","C","B",pre+"D6","31");
const c7c = new Card("7","C","B",pre+"D7","32");
const c8c = new Card("8","C","B",pre+"D8","33");
const c9c = new Card("9","C","B",pre+"D9","34");
const c10c = new Card("10","C","B",pre+"DA","35");
const cJc = new Card("J","C","B",pre+"DB","36");
const cQc = new Card("Q","C","B",pre+"DD","37");
const cKc = new Card("K","C","B",pre+"DE","38");

const c1s = new Card("1","S","B",pre+"A1","39");
const c2s = new Card("2","S","B",pre+"A2","40");
const c3s = new Card("3","S","B",pre+"A3","41");
const c4s = new Card("4","S","B",pre+"A4","42");
const c5s = new Card("5","S","B",pre+"A5","43");
const c6s = new Card("6","S","B",pre+"A6","44");
const c7s = new Card("7","S","B",pre+"A7","45");
const c8s = new Card("8","S","B",pre+"A8","46");
const c9s = new Card("9","S","B",pre+"A9","47");
const c10s = new Card("10","S","B",pre+"AA","48");
const cJs = new Card("J","S","B",pre+"AB","49");
const cQs = new Card("Q","S","B",pre+"AD","50");
const cKs = new Card("K","S","B",pre+"AE","51");   

let cardArray1 = [c1h,c2h,c3h,c4h,c5h,c6h,c7h,c8h,c9h,c10h,cJh,cQh,cKh];
let cardArray2 = [c1d,c2d,c3d,c4d,c5d,c6d,c7d,c8d,c9d,c10d,cJd,cQd,cKd];
let cardArray3 = [c1c,c2c,c3c,c4c,c5c,c6c,c7c,c8c,c9c,c10c,cJc,cQc,cKc];
let cardArray4 = [c1s,c2s,c3s,c4s,c5s,c6s,c7s,c8s,c9s,c10s,cJs,cQs,cKs];

let cardArrayA = cardArray1.concat(cardArray2,cardArray3,cardArray4);
//console.log(cardArrayA[14].value);

let foundationH = -1;
let foundationD = -1;
let foundationC = -1;
let foundationS = -1;
let column1 = [];
let column2 = [];
let column3 = [];
let column4 = [];
let column5 = [];
let column6 = [];
let column7 = [];
let front1 = [];
let front2 = [];
let front3 = [];
let front4 = [];
let front5 = [];
let front6 = [];
let front7 = [];

let moveReady = [false,false,false,false,false,false,false,false,false,false,false];
let finalFront = [-1,-1,-1,-1,-1,-1,-1]

let foundationCodes = [];
let deckID = [];

let boardContainer = document.getElementById("board-container");
let permArrayID = [];

let shuffledArray = cardArrayA.slice();

let hidden = [7,14,21,28,35,42,49,15,22,29,36,43,50,23,30,37,44,51,31,38,45,39,46,47];
let front = [0,8,16,24,32,40,48];
let frontOfFront = [7,15,23,31,39,47,55];//temp
let starters = [0,1,2,3,4,5,6,8,9,10,11,12,13,16,17,18,19,20,24,25,26,27,32,33,34,40,41,48];
let deck = [];

let foundHLength = 0;
let foundDLength = 0;
let foundCLength = 0;
let foundSLength = 0;

let matchID = [0];

let foundationReady = [0,13,26,39];

let foundationArr = [];
function shuffle (array) {
    let currentIndex = array.length;
    let temporaryValue, randomIndex;

    while (0 !== currentIndex) {            
        randomIndex = Math.floor(Math.random() * currentIndex);
        currentIndex -= 1;            
        temporaryValue = array[currentIndex];
        array[currentIndex] = array[randomIndex];
        array[randomIndex] = temporaryValue;
    }        
}

function BoardToFound(row){ //needs fixing
    if(foundationReady[0]==12 && foundationReady[1]==25 && foundationReady[2]==38 && foundationReady[3]==51){
        Victory();
    } 
    let pos = row-1
    let a = front[pos];
    
    if(a==-1){
        return;
    }
    let columnChoice = -1;
    if(pos==0){
        columnChoice = column1;
    }    
    if(pos==1){
        columnChoice = column2;
    } 
    if(pos==2){
        columnChoice = column3;
    } 
    if(pos==3){
        columnChoice = column4;
    } 
    if(pos==4){
        columnChoice = column5;
    } 
    if(pos==5){
        columnChoice = column6;
    } 
    if(pos==6){
        columnChoice = column7;
    } 
    
    if(shuffledArray[a].id < 13){
        if(foundationH == -1){
            if(shuffledArray[a].id==0){
                document.getElementById("HF").innerHTML = shuffledArray[a].text;
                foundationH = 0;      
                if(columnChoice.length==0){
                    document.getElementById(`board-to-foundation${row}`).style.visibility = "hidden";
                    front[pos]=-1;
                    document.getElementById(`${a}`).style.visibility = "hidden";
                    return;
                }    
                else{
                    document.getElementById(`${a}`).style.visibility = "hidden";
                    front[pos] -= 7;  
                    a = front[pos];                  
                    document.getElementById(`${a}`).classList.remove("covered");
                    return;
                }      
                
            }
            else{
                return;
            }
        }
        else{
          //  console.log("step1");
            let b = Number(shuffledArray[a].id);
            let newID = b-1;
          //  console.log(newID, foundationH);
            if(newID==foundationH){
                console.log("step2");
                document.getElementById("HF").innerHTML = shuffledArray[a].text;
                foundationH += 1;
                if(columnChoice.length==0){
                    document.getElementById(`board-to-foundation${row}`).style.visibility = "hidden";
                    front[pos]=-1;
                    document.getElementById(`${a}`).style.visibility = "hidden";
                    return;
                }    
                else{
                    document.getElementById(`${a}`).style.visibility = "hidden";
                    front[pos] -= 7;  
                    a = front[pos];                  
                    document.getElementById(`${a}`).classList.remove("covered");
                    return;
                }    
            }
            else{
                return;
            }
        }
    }
     if(shuffledArray[a].id < 26){
        if(foundationD == -1){
            if(shuffledArray[a].id==13){
                document.getElementById("DF").innerHTML = shuffledArray[a].text;
                foundationD = 13;
                if(columnChoice.length==0){
                    document.getElementById(`board-to-foundation${row}`).style.visibility = "hidden";
                    front[pos]=-1;
                    document.getElementById(`${a}`).style.visibility = "hidden";
                    return;
                }    
                else{
                    document.getElementById(`${a}`).style.visibility = "hidden";
                    front[pos] -= 7;  
                    a = front[pos];                  
                    document.getElementById(`${a}`).classList.remove("covered");
                    return;
                }    
            }
            else{
                return;
            }
        }
        else{
            console.log("step1");
            let b = Number(shuffledArray[a].id);
            let newID = b-1;
            console.log(newID, foundationD);
            if(newID==foundationD){
               // console.log("step2");
                document.getElementById("DF").innerHTML = shuffledArray[a].text;
                foundationD += 1;
                if(columnChoice.length==0){
                    document.getElementById(`board-to-foundation${row}`).style.visibility = "hidden";
                    front[pos]=-1;
                    document.getElementById(`${a}`).style.visibility = "hidden";
                    return;
                }    
                else{
                    document.getElementById(`${a}`).style.visibility = "hidden";
                    front[pos] -= 7;  
                    a = front[pos];                  
                    document.getElementById(`${a}`).classList.remove("covered");
                    return;
                }    
            }
            else{
                return;
            }
        }        
    }
     if(shuffledArray[a].id < 39){
        if(foundationC == -1){
            if(shuffledArray[a].id==26){
                document.getElementById("CF").innerHTML = shuffledArray[a].text;
                foundationC = 26;
                if(columnChoice.length==0){
                    document.getElementById(`board-to-foundation${row}`).style.visibility = "hidden";
                    front[pos]=-1;
                    document.getElementById(`${a}`).style.visibility = "hidden";
                    return;
                }    
                else{
                    document.getElementById(`${a}`).style.visibility = "hidden";
                    front[pos] -= 7;  
                    a = front[pos];                  
                    document.getElementById(`${a}`).classList.remove("covered");
                    return;
                }    
            }
            else{
                return;
            }
        }
        else{
          //  console.log("step1");
            let b = Number(shuffledArray[a].id);
            let newID = b-1;
           // console.log(newID, foundationC);
            if(newID==foundationC){
              //  console.log("step2");
                document.getElementById("CF").innerHTML = shuffledArray[a].text;
                foundationC += 1;
                if(columnChoice.length==0){
                    document.getElementById(`board-to-foundation${row}`).style.visibility = "hidden";
                    front[pos]=-1;
                    document.getElementById(`${a}`).style.visibility = "hidden";
                    return;
                }    
                else{
                    document.getElementById(`${a}`).style.visibility = "hidden";
                    front[pos] -= 7;  
                    a = front[pos];                  
                    document.getElementById(`${a}`).classList.remove("covered");
                    return;
                }    
            }
            else{
                return;
            }
        }
    }
    else{
        if(foundationS == -1){
            if(shuffledArray[a].id==39){
                document.getElementById("SF").innerHTML = shuffledArray[a].text;
                foundationS = 39;
                if(columnChoice.length==0){
                    document.getElementById(`board-to-foundation${row}`).style.visibility = "hidden";
                    front[pos]=-1;
                    document.getElementById(`${a}`).style.visibility = "hidden";
                    return;
                }    
                else{
                    document.getElementById(`${a}`).style.visibility = "hidden";
                    front[pos] -= 7;  
                    a = front[pos];                  
                    document.getElementById(`${a}`).classList.remove("covered");
                    return;
                }    
            }
            else{
                return;
            }
        }
        else{
         //   console.log("step1");
            let b = Number(shuffledArray[a].id);
            let newID = b-1;
         //   console.log(newID, foundationS);
            if(newID==foundationS){
              //  console.log("step2");
                document.getElementById("SF").innerHTML = shuffledArray[a].text;
                foundationS += 1;
                if(columnChoice.length==0){
                    document.getElementById(`board-to-foundation${row}`).style.visibility = "hidden";
                    front[pos]=-1;
                    document.getElementById(`${a}`).style.visibility = "hidden";
                    return;
                }    
                else{
                    document.getElementById(`${a}`).style.visibility = "hidden";
                    front[pos] -= 7;  
                    a = front[pos];                  
                    document.getElementById(`${a}`).classList.remove("covered");
                    return;
                }    
            }
            else{
                return;
            }
        }
    }    
}
let moveSuccess = "NO"; //temp
//console.log(deck);

function UpToBoard(tarCol){ //needs fixing
    
    let a = deck[0];
    let target = cardArrayA[a];
    let frontArray = [];
    let newLocation = -1; //do not call variable new
    if(front[tarCol]==-1){
        let place = 0;
        if(tarCol>0){
            let mult = tarCol * 7;
            place += mult;
        }
        let replacer = place;
        document.getElementById(`${replacer}`).innerHTML = target.text;  
        document.getElementById(`${replacer}`).style.visibility = "visible";
        frontOfFront[tarCol] = place+7;
        front[tarCol] = place;

        if(target.col == "R"){
        document.getElementById(`${replacer}`).style.color = "red";
        }
        else{
            document.getElementById(`${replacer}`).style.color = "black";
        }
    }
    else{
   
    for(let i=0;i>7;i++){
        let f = front[i];
        let targetID = permArrayID[f];
        let targetObj = cardArrayA[targetID];
        
        let b = Number(target);        
        
        if(a==12||a==25||a==38||a==51){
            if(frontArray[i]==-1){
                let b = i+1;
                b = b;
                newLocation = frontArray[i];
                newLocation += 7;
            }
            return; //temp
        }
        if(a<13){
            if(b==(a+27)||b==(a+40)){
                frontOfFront[i]              
                
            }
        }
        if(a>12&&a<26){//13over27and40
            if(b==(a+14)||b==(a+27)){
                moveSuccess = "match";
                
            }
        }
        if(a>25&&a<39){//26over1and14
            if(b==(a-25)||b==(a-12)){
                moveSuccess = "match";
               
            }
        }
        if(a>38){//39over1and14
            if(b==(a-38)||b==(a-25)){
                moveSuccess = "match";
               
            }
        }
      
    }
    let replacer = frontOfFront[tarCol];
    document.getElementById(`${replacer}`).innerHTML = target.text;  
    document.getElementById(`${replacer}`).style.visibility = "visible";
    document.getElementById(`${replacer}`).classList.remove("covered");    
    if(target.col == "R"){
        document.getElementById(`${replacer}`).style.color = "red";
    }
    else{
        document.getElementById(`${replacer}`).style.color = "black";
    }
    frontOfFront[tarCol] += 7;
    front[tarCol] += 7;
    permArrayID[replacer] = a;
}
   // console.log(moveSuccess);     
    
    document.getElementById("deck-to-board2").style.color = "black";
    document.getElementById("deck-to-board3").style.color = "black";
    document.getElementById("deck-to-board4").style.color = "black";
    document.getElementById("deck-to-board5").style.color = "black";
    document.getElementById("deck-to-board6").style.color = "black";
    document.getElementById("deck-to-board7").style.color = "black";
    SwapDeck();
    
    document.getElementById("deck-array").innerHTML = deck;//temp
    document.getElementById("board-array").innerHTML = permArrayID;//temp
    document.getElementById("front-div").innerHTML = front;//temp
}
//console.log(moveSuccess);

function FoundToBoard(iden){ //needs fixing
    for(let i=0;i<7;i++){
        if(d<13){
            if(b==(d+27)||b==(d+40)){
                document.getElementById(`deck-to-board${ip}`).style.color = "yellow";    
                let c = i.toString();
                testText += c;         
            }
        }
        if(d>12&&d<26){//13over27and40
            if(b==(d+14)||b==(d+27)){    
                document.getElementById(`deck-to-board${ip}`).style.color = "yellow";       
                let c = i.toString();
                testText += c;             
            }
        }
        if(d>25&&d<39){//26over1and14
            if(b==(d-25)||b==(d-12)){       
                document.getElementById(`deck-to-board${ip}`).style.color = "yellow";       
                let c = i.toString();
                testText += c;         
            }
        }
        if(d>38){//39over1and14
            if(b==(d-38)||b==(d-25)){
                document.getElementById(`deck-to-board${ip}`).style.color = "yellow";       
                let c = i.toString();
                testText += c;        
                }
            }        
        }    
}

function UpToFound(){    
    if(deck.length==0){
        return;
    }
    
    let a = deck[0];
    let b = cardArrayA[a].id;
    let c = cardArrayA[a].text;

    document.getElementById("deck-to-found").style.color = "black"; 

    if(b==foundationReady[0]){
        document.getElementById("HF").innerHTML = c;
        foundationReady[0] += 1;
    }
    if(b==foundationReady[1]){
        document.getElementById("DF").innerHTML = c;
        foundationReady[1] += 1;
    }
    if(b==foundationReady[2]){
        document.getElementById("CF").innerHTML = c;
        foundationReady[2] += 1;
    }
    if(b==foundationReady[2]){
        document.getElementById("SF").innerHTML = c;
        foundationReady[2] += 1;
    }
    
    if(foundationReady[0]==12 && foundationReady[1]==25 && foundationReady[2]==38 && foundationReady[3]==51){
        Victory();
    }   
    SwapDeck();
   
}

function SwapDeck(){
    if(deck.length==0||deck.length==1){
        return;
    }
    deck.push(deck[0]);
    deck.shift();
    if(deck.length==1){        
        document.getElementById("pile").style.visibility = "hidden";
        document.getElementById("swap-deck").style.visibility = "hidden";        
    }    
    if(deck.length==0){
        document.getElementById("deck-to-board").style.visibility = "hidden";
        document.getElementById("deck-to-found").style.visibility = "hidden";
        document.getElementById("new-card").style.visibility = "hidden";
        return;
    }    
    let a = deck[0];  
    document.getElementById("new-card").innerHTML = cardArrayA[a].text;
    matchID[0] = a;    //temp

    document.getElementById("deck-to-found").style.color = "black"; 

    for(let i=0;i<7;i++){
        let f = front[i];
        let b = permArrayID[f];
        let d = deck[0];
        let ip = i + 1;
        matchID[ip] = b;
        document.getElementById(`deck-to-board${ip}`).style.color = "black";
        //if d = 13,26,29,42 && front=-1
        if(d<13){
            if(b==(d+27)||b==(d+40)){
                document.getElementById(`deck-to-board${ip}`).style.color = "yellow";             
            }
        }
        if(d>12&&d<26){//13over27and40
            if(b==(d+14)||b==(d+27)){    
                document.getElementById(`deck-to-board${ip}`).style.color = "yellow";              
            }
        }
        if(d>25&&d<39){//26over1and14
            if(b==(d-25)||b==(d-12)){       
                document.getElementById(`deck-to-board${ip}`).style.color = "yellow";          
            }
        }
        if(d>38){//39over1and14
            if(b==(d-38)||b==(d-25)){
                document.getElementById(`deck-to-board${ip}`).style.color = "yellow";         
            }
        }        
    }

    for(let i=0;i<4;i++){
        if(foundationReady[i]==deck[0]){
            document.getElementById("deck-to-found").style.color = "yellow"; 
        }
    }
    document.getElementById("match").innerHTML = matchID;    
    
    if(cardArrayA[a].col == "R"){
        document.getElementById("new-card").style.color = "red";
    }
    else{
        document.getElementById("new-card").style.color = "black";
    }

    document.getElementById("deck-array").innerHTML = deck;//temp
  //  console.log(cardArrayA[a].id);
}

function moveCheck(){ //needs fixing and splitting
    let a = shuffledArray[firstDeck].id;
    let b = front[0];
    let c = shuffledArray[b].id;
    let match = false;
    let diff = 0;
    if(a<13){if(shuffledArray[b].col=="B"){match=true}};
    if(a>12&&a<26){if(shuffledArray[b].col=="B"){match=true}};
    if(a>25&&a<39){if(shuffledArray[b].col=="R"){match=true}};
    if(a>38){if(shuffledArray[b].col=="R"){match=true}};
   
    console.log(a-c,match);       
}

function Victory(){
    document.getElementById("victory").innerHTML = "VICTORY!";
    document.getElementById("victory").style.fontSize = "50px";
}

function Reset(){
    location.reload();
}

//28 cards on board, 24 cards in deck

shuffle(shuffledArray);

//Victory();//temp

for(let i=0;i<140;i++){
   // let a = i+1;
    let newCard = document.createElement('div');
    newCard.classList.add('card');
    if(i>6){
        newCard.classList.add('second-row');
    }    
    newCard.id = i;
    boardContainer.append(newCard);
    if(i<52){
        document.getElementById(`${i}`).innerHTML = shuffledArray[i].text;
       
    }
    else{
        document.getElementById(`${i}`).style.visibility = "hidden";
        
    }
    permArrayID.push(-1);
}

//console.log(permArrayID.length);

for(let i=0;i<52;i++){    
    if(shuffledArray[i].col == "R"){
        document.getElementById(`${i}`).style.color = "red";
    }
    else{
        document.getElementById(`${i}`).style.color = "black";
    }
    if(hidden.indexOf(i)!==-1){
        document.getElementById(`${i}`).style.visibility = "hidden";        
    }
    if(front.indexOf(i)==-1){
        document.getElementById(`${i}`).classList.add("covered");
       // document.getElementById(`${i}`).innerHTML = "";
    }
    if(starters.indexOf(i)!==-1){        
        permArrayID[i] = shuffledArray[i].id;
    }
    else{
        let a = shuffledArray[i].id;
        deck.push(a);
    }
}

//console.log(deck.length);
/*for(let i=0;i<24;i++){
    permArrayID.push(deck[i]);
}*/

let frontDeckID = deck[0];
let frontDeckCard = cardArrayA[frontDeckID];
document.getElementById("new-card").innerHTML = frontDeckCard.text;

if(frontDeckCard.col == "R"){
    document.getElementById("new-card").style.color = "red";
}
else{
    document.getElementById("new-card").style.color = "black";
}

for(let i=0;i<52;i++){
    foundationArr.push(-1);
}

//console.log(permArrayID.length);

column2.push(shuffledArray[1].id);
column3.push(shuffledArray[2].id, shuffledArray[9].id);
column4.push(shuffledArray[3].id, shuffledArray[10].id, shuffledArray[17].id);
column5.push(shuffledArray[4].id, shuffledArray[11].id, shuffledArray[18].id, shuffledArray[25].id);
column6.push(shuffledArray[5].id, shuffledArray[12].id, shuffledArray[19].id, shuffledArray[26].id, shuffledArray[33].id);
column7.push(shuffledArray[6].id, shuffledArray[13].id, shuffledArray[20].id, shuffledArray[27].id, shuffledArray[34].id, shuffledArray[41].id);
//console.log(column1,column2,column3,column4,column5,column6,column7);

front1.push(shuffledArray[0].id);
front2.push(shuffledArray[8].id);
front3.push(shuffledArray[16].id);
front4.push(shuffledArray[24].id);
front5.push(shuffledArray[32].id);
front6.push(shuffledArray[40].id);
front7.push(shuffledArray[48].id);

matchID[0] = deck[0];
for(let i=0;i<7;i++){
    let a = front[i];
    let b = permArrayID[a];
    let d = deck[0];
    let ip = i + 1;
    if(d<13){
        if(b==(d+27)||b==(d+40)){
           
            document.getElementById(`deck-to-board${ip}`).style.color = "yellow";  
        }
    }
    if(d>12&&d<26){//13over27and40
        if(b==(d+14)||b==(d+27)){
                
            document.getElementById(`deck-to-board${ip}`).style.color = "yellow";            
        }
    }
    if(d>25&&d<39){//26over1and14
        if(b==(d-25)||b==(d-12)){
              
            document.getElementById(`deck-to-board${ip}`).style.color = "yellow";     
        }
    }
    if(d>38){//39over1and14
        if(b==(d-38)||b==(d-25)){
           
            document.getElementById(`deck-to-board${ip}`).style.color = "yellow";         
        }
    }
    matchID.push(b);
}

for(let i=0;i<4;i++){
    if(foundationReady[i]==deck[0]){
        document.getElementById("deck-to-found").style.color = "yellow"; 
    }
}

document.getElementById("foundation-array").innerHTML = foundationArr;
document.getElementById("board-array").innerHTML = permArrayID;
document.getElementById("deck-array").innerHTML = deck;
document.getElementById("front-div").innerHTML = front;
document.getElementById("match").innerHTML = matchID;

let testVar = deck[0];
let board = 1;
let found = 2;
//front[0] = -1;//test
//document.getElementById("0").innerHTML = "";//temp
//document.getElementById("0").style.visibility = "hidden";//test

function MatchTest(input,type){
    let testText = "";
    if(type==1){
    for(let i=0;i<7;i++){
        let f = front[i];        
        let d = input;
        let ip = i + 1;
        
        document.getElementById(`deck-to-board${ip}`).style.color = "black";
        if (d==12|| d==25||d==38||d==51){
            if(f==-1){
                document.getElementById(`deck-to-board${ip}`).style.color = "yellow";  
                let e = "king ";
                let c = i.toString();
                testText += e;
                testText += c;
                return testText;
            }
            else{
                testText += "No place for king";
                return testText;
            }
        }
        let b = permArrayID[f];
        matchID[ip] = b;
        if(d<13){
            if(b==(d+27)||b==(d+40)){
                document.getElementById(`deck-to-board${ip}`).style.color = "yellow";    
                let c = i.toString();
                testText += c;         
            }
        }
        if(d>12&&d<26){//13over27and40
            if(b==(d+14)||b==(d+27)){    
                document.getElementById(`deck-to-board${ip}`).style.color = "yellow";       
                let c = i.toString();
                testText += c;             
            }
        }
        if(d>25&&d<39){//26over1and14
            if(b==(d-25)||b==(d-12)){       
                document.getElementById(`deck-to-board${ip}`).style.color = "yellow";       
                let c = i.toString();
                testText += c;         
            }
        }
        if(d>38){//39over1and14
            if(b==(d-38)||b==(d-25)){
                document.getElementById(`deck-to-board${ip}`).style.color = "yellow";       
                let c = i.toString();
                testText += c;        
                }
            }        
        }
        return testText;
    }
    if(type==2){
        for(let i=0;i<4;i++){
        if(foundationReady[i]==deck[0]){
            let p = i+7;
            document.getElementById("deck-to-found").style.color = "yellow"; 
            moveReady[p] = true;
            let c = i.toString();
            testText += c;
            testText += "found";
            return testText;
        }
    }
    return testText;
    }
}
let testTwo = MatchTest(testVar,board);
let testFound = MatchTest(testVar,found);
console.log(testTwo,testFound);
</script>
</html>