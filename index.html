<!DOCTYPE html>
<html>
<head>
<title> Solitaire JS
</title>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
</head>
<style>
    *{
        background-color: rgb(0, 166, 255);
    }

    .foundation-container{
        display: grid;
        grid-template-columns: auto auto auto auto;
        gap: 10px;
        padding: 10px;
        margin-left: 650px;        
        width: 600px;
        background-color: teal;
    }

    .board-container{
        display: grid;
        grid-template-columns: auto auto auto auto auto auto auto;
        gap: 10px;
        padding: 10px;
        height: 1200px;
    }

    .card{
        background-color: white;
        height: 120px;
        width: 100px;
        border: solid 2px black;
        font-size: 120px;   
        padding-bottom: 20px;  
        padding-left: 20px;
        color: black;
    }

    .new-card-block{
        display: flex;
    }
    #pile{
        margin-right: 50px;
        background-color: yellow;
    }
    #new-card{
        background-color: white;
    }
    #HF,#DF{
       color: red;
    }
    .second-row{
        margin-top: -180px;
    }
    .covered{
        background-color: rgb(255, 245, 100);
        font-size: 0px;
    }
    .deck-button{
        height: 60px;
        margin: auto 20px;
    }
    /*don't start CSS with a number*/   

</style>
<body>    
    <h1 style="text-align: center;">Solitaire Game</h1>  
    <div class="foundation-container">
        <div class="card" id="HF"></div>
        <div class="card" id="DF"></div>
        <div class="card" id="CF"></div>
        <div class="card" id="SF"></div>
    </div>    
    <br>
    <button id="board-to-foundation1" onclick="BoardToFound(1)">Board to Foundation</button>
    <button id="board-to-foundation2" onclick="BoardToFound(2)">Board to Foundation</button>
    <button id="board-to-foundation3" onclick="BoardToFound(3)">Board to Foundation</button>
    <button id="board-to-foundation4" onclick="BoardToFound(4)">Board to Foundation</button>
    <button id="board-to-foundation5" onclick="BoardToFound(5)">Board to Foundation</button>
    <button id="board-to-foundation6" onclick="BoardToFound(6)">Board to Foundation</button>
    <button id="board-to-foundation7" onclick="BoardToFound(7)">Board to Foundation</button>
    <br>
    <button id="found-to-board1" onclick="FoundToBoard(1)">Foundation to Board</button>
    <button id="found-to-board1" onclick="FoundToBoard(2)">Foundation to Board</button>
    <button id="found-to-board1" onclick="FoundToBoard(3)">Foundation to Board</button>
    <button id="found-to-board1" onclick="FoundToBoard(4)">Foundation to Board</button>
    <div class="board-container" id="board-container">
        <!--1,1+1,1+2,1+3,1+4,1+5,1+6-->
       <!-- <div class="card" id="0"></div>
        <div class="card" id="1"></div>
        <div class="card" id="2"></div>
        <div class="card" id="3"></div>
        <div class="card" id="4"></div>
        <div class="card" id="5"></div>
        <div class="card" id="6"></div>     -->
        <!--spade= &#x2660 , heart= &#x2665 , club= &#x2663, diamond= &#x2666-->   
    </div>    
   <!-- <div id="testing" style="font-size: 100px;">&#x1F0A1 &#x1F0A2 &#x1F0A3 &#x1F0A4 &#x1F0A5 &#x1F0A6 &#x1F0A7 &#x1F0A8 &#x1F0A9 &#x1F0AA &#x1F0AB &#x1F0AD &#x1F0AE  </div> -->   
    <br>
    
    <div class="new-card-block">
        <div class="card" id="pile"></div>
        <div class="card" id="new-card"></div>       
        <button id="swap-deck" onclick="SwapDeck()"class="deck-button">Next Card</button>
        <button id="deck-to-board" onclick="UpToBoard()"class="deck-button">Move to Board</button>
        <button id="deck-to-found" onclick="UpToFound()"class="deck-button">Move to Foundation</button>
    </div>    
    
    <!--Four foundation cards, 7 rows of cards and the deck with 1/3 cards
    Hearts, Diamonds, Clubs, Spades
    -->
</body>
<script>
function Card(value, sym, col, text, id){
    this.value = value;
    this.sym = sym;
    this.col = col;
    this.text = text;
    this.id = id;
}
//Can't start variables with a number either
let pre = "&#x1F0";
const c1h = new Card("1","H","R","&#x1F0B1","0");
const c2h = new Card("2","H","R",pre+"B2","1");
const c3h = new Card("3","H","R",pre+"B3","2");
const c4h = new Card("4","H","R",pre+"B4","3");
const c5h = new Card("5","H","R",pre+"B5","4");
const c6h = new Card("6","H","R",pre+"B6","5");
const c7h = new Card("7","H","R",pre+"B7","6");
const c8h = new Card("8","H","R",pre+"B8","7");
const c9h = new Card("9","H","R",pre+"B9","8");
const c10h = new Card("10","H","R",pre+"BA","9");
const cJh = new Card("J","H","R",pre+"BB","10");
const cQh = new Card("Q","H","R",pre+"BD","11");
const cKh = new Card("K","H","R",pre+"BE","12");

const c1d = new Card("1","D","R",pre+"C1","13");
const c2d = new Card("2","D","R",pre+"C2","14");
const c3d = new Card("3","D","R",pre+"C3","15");
const c4d = new Card("4","D","R",pre+"C4","16");
const c5d = new Card("5","D","R",pre+"C5","17");
const c6d = new Card("6","D","R",pre+"C6","18");
const c7d = new Card("7","D","R",pre+"C7","19");
const c8d = new Card("8","D","R",pre+"C8","20");
const c9d = new Card("9","D","R",pre+"C9","21");
const c10d = new Card("10","D","R",pre+"CA","22");
const cJd = new Card("J","D","R",pre+"CB","23");
const cQd = new Card("Q","D","R",pre+"CD","24");
const cKd = new Card("K","D","R",pre+"CE","25");

const c1c = new Card("1","C","B",pre+"D1","26");
const c2c = new Card("2","C","B",pre+"D2","27");
const c3c = new Card("3","C","B",pre+"D3","28");
const c4c = new Card("4","C","B",pre+"D4","29");
const c5c = new Card("5","C","B",pre+"D5","30");
const c6c = new Card("6","C","B",pre+"D6","31");
const c7c = new Card("7","C","B",pre+"D7","32");
const c8c = new Card("8","C","B",pre+"D8","33");
const c9c = new Card("9","C","B",pre+"D9","34");
const c10c = new Card("10","C","B",pre+"DA","35");
const cJc = new Card("J","C","B",pre+"DB","36");
const cQc = new Card("Q","C","B",pre+"DD","37");
const cKc = new Card("K","C","B",pre+"DE","38");

const c1s = new Card("1","S","B",pre+"A1","39");
const c2s = new Card("2","S","B",pre+"A2","40");
const c3s = new Card("3","S","B",pre+"A3","41");
const c4s = new Card("4","S","B",pre+"A4","42");
const c5s = new Card("5","S","B",pre+"A5","43");
const c6s = new Card("6","S","B",pre+"A6","44");
const c7s = new Card("7","S","B",pre+"A7","45");
const c8s = new Card("8","S","B",pre+"A8","46");
const c9s = new Card("9","S","B",pre+"A9","47");
const c10s = new Card("10","S","B",pre+"AA","48");
const cJs = new Card("J","S","B",pre+"AB","49");
const cQs = new Card("Q","S","B",pre+"AD","50");
const cKs = new Card("K","S","B",pre+"AE","51");   

let cardArray1 = [c1h,c2h,c3h,c4h,c5h,c6h,c7h,c8h,c9h,c10h,cJh,cQh,cKh];
let cardArray2 = [c1d,c2d,c3d,c4d,c5d,c6d,c7d,c8d,c9d,c10d,cJd,cQd,cKd];
let cardArray3 = [c1c,c2c,c3c,c4c,c5c,c6c,c7c,c8c,c9c,c10c,cJc,cQc,cKc];
let cardArray4 = [c1s,c2s,c3s,c4s,c5s,c6s,c7s,c8s,c9s,c10s,cJs,cQs,cKs];

let cardArrayA = cardArray1.concat(cardArray2,cardArray3,cardArray4);
//console.log(cardArrayA[14].value);

var shuffle = function (array) {
    var currentIndex = array.length;
    var temporaryValue, randomIndex;

    while (0 !== currentIndex) {            
        randomIndex = Math.floor(Math.random() * currentIndex);
        currentIndex -= 1;            
        temporaryValue = array[currentIndex];
        array[currentIndex] = array[randomIndex];
        array[randomIndex] = temporaryValue;
    }        
};

let foundationH = -1;
let foundationD = -1;
let foundationC = -1;
let foundationS = -1;
let column1 = [];
let column2 = [];
let column3 = [];
let column4 = [];
let column5 = [];
let column6 = [];
let column7 = [];

function BoardToFound(row){
    let pos = row-1
    let a = front[pos];    
    
    if(shuffledArray[a].id < 13){
        if(foundationH == -1){
            if(shuffledArray[a].id==0){
                document.getElementById("HF").innerHTML = shuffledArray[a].text;
                foundationH = 0;
                return;
            }
            else{
                return;
            }
        }
        else{
            let b = shuffledArray[a].id;
            let newID = b+1;
            if(newID==foundationH){
                document.getElementById("HF").innerHTML = shuffledArray[a].text;
                foundationH += 1;
                return;
            }
            else{
                return;
            }
        }
    }
     if(shuffledArray[a].id < 26){
        if(foundationD == -1){
            if(shuffledArray[a].id==13){
                document.getElementById("DF").innerHTML = shuffledArray[a].text;
                foundationD = 13;
                return;
            }
            else{
                return;
            }
        }
        else{
            let b = shuffledArray[a].id;
            let newID = b+1;
            if(newID==foundationD){
                document.getElementById("DF").innerHTML = shuffledArray[a].text;
                foundationD += 1;
                return;
            }
            else{
                return;
            }
        }        
    }
     if(shuffledArray[a].id < 39){
        if(foundationC == -1){
            if(shuffledArray[a].id==26){
                document.getElementById("CF").innerHTML = shuffledArray[a].text;
                foundationC = 26;
                return;
            }
            else{
                return;
            }
        }
        else{
            let b = shuffledArray[a].id;
            let newID = b+1;
            if(newID==foundationC){
                document.getElementById("CF").innerHTML = shuffledArray[a].text;
                foundationC += 1;
                return;
            }
            else{
                return;
            }
        }
    }
    else{
        if(foundationS == -1){
            if(shuffledArray[a].id==39){
                document.getElementById("SF").innerHTML = shuffledArray[a].text;
                foundationS = 39;
                return;
            }
            else{
                return;
            }
        }
        else{
            let b = shuffledArray[a].id;
            let newID = b+1;
            if(newID==foundationS){
                document.getElementById("SF").innerHTML = shuffledArray[a].text;
                foundationS += 1;
                return;
            }
            else{
                return;
            }
        }
    }
    
}

function UpToBoard(){
    let a = deck[0];
    document.getElementById("7").innerHTML = shuffledArray[a].text;    
    console.log(deck);
    document.getElementById("7").style.visibility = "visible";
    document.getElementById("7").classList.remove("covered");    
    deck.shift();
    let b = deck[0];
    document.getElementById("new-card").innerHTML = shuffledArray[b].text;
    if(shuffledArray[a].col == "R"){
        document.getElementById("7").style.color = "red";
    }
    else{
        document.getElementById("7").style.color = "black";
    }
    
}

function FoundToBoard(iden){
    if(iden==1){
        let a = document.getElementById("HF").innerHTML;
        document.getElementById("HF").innerHTML = "";
        document.getElementById("7").innerHTML = a;
        document.getElementById("7").style.visibility = "visible";
        document.getElementById("7").classList.remove("covered");        
        document.getElementById("7").style.color = "red";
        
    }
    if(iden==2){
        let a = document.getElementById("DF").innerHTML;
        document.getElementById("DF").innerHTML = "";
        document.getElementById("7").innerHTML = a;
        document.getElementById("7").style.visibility = "visible";
        document.getElementById("7").classList.remove("covered");
        document.getElementById("7").style.color = "red";
    }
    if(iden==3){
        let a = document.getElementById("CF").innerHTML;
        document.getElementById("CF").innerHTML = "";
        document.getElementById("7").innerHTML = a;
        document.getElementById("7").style.visibility = "visible";
        document.getElementById("7").classList.remove("covered");
        document.getElementById("7").style.color = "black";
    }
    if(iden==4){
        let a = document.getElementById("SF").innerHTML;
        document.getElementById("SF").innerHTML = "";
        document.getElementById("7").innerHTML = a;
        document.getElementById("7").style.visibility = "visible";
        document.getElementById("7").classList.remove("covered");
        document.getElementById("7").style.color = "black";
    }
}
let foundationCodes = [];
function UpToFound(){    
    let a = deck[0];
    
    if(shuffledArray[a].id < 13){
        if(foundationH == -1){
            if(shuffledArray[a].id==0){
                document.getElementById("HF").innerHTML = shuffledArray[a].text;
                foundationH = 0;
                deck.shift()
                let b = deck[0];
                document.getElementById("new-card").innerHTML = shuffledArray[b].text;
                return;
            }
            else{
                return;
            }
        }
        else{
            let c = shuffledArray[a].id;
            let newID = c+1;
            if(newID==foundationH){
                document.getElementById("HF").innerHTML = shuffledArray[a].text;
                foundationH += 1;
                deck.shift()
                let b = deck[0];
                document.getElementById("new-card").innerHTML = shuffledArray[b].text;
                return;
            }
            else{
                return;
            }
        }
       
    }
     if(shuffledArray[a].id < 26){
        if(foundationD == -1){
            if(shuffledArray[a].id==13){
                document.getElementById("DF").innerHTML = shuffledArray[a].text;
                foundationD = 13;
                deck.shift()
                let b = deck[0];
                document.getElementById("new-card").innerHTML = shuffledArray[b].text;
                return;
            }
            else{
                return;
            }
        }
        else{
            let c = shuffledArray[a].id;
            let newID = c+1;
            if(newID==foundationD){
                document.getElementById("DF").innerHTML = shuffledArray[a].text;
                foundationD += 1;
                deck.shift()
                let b = deck[0];
                document.getElementById("new-card").innerHTML = shuffledArray[b].text;
                return;
            }
            else{
                return;
            }
        }        
        
    }
     if(shuffledArray[a].id < 39){
        if(foundationC == -1){
            if(shuffledArray[a].id==26){
                document.getElementById("CF").innerHTML = shuffledArray[a].text;
                foundationC = 26;
                deck.shift()
                let b = deck[0];
                document.getElementById("new-card").innerHTML = shuffledArray[b].text;
                return;
            }
            else{
                return;
            }
        }
        else{
            let c = shuffledArray[a].id;
            let newID = c+1;
            if(newID==foundationC){
                document.getElementById("CF").innerHTML = shuffledArray[a].text;
                foundationC += 1;
                deck.shift()
                let b = deck[0];
                document.getElementById("new-card").innerHTML = shuffledArray[b].text;
                return;
            }
            else{
                return;
            }
        }
        
    }
    else{
        if(foundationS == -1){
            if(shuffledArray[a].id==39){
                document.getElementById("SF").innerHTML = shuffledArray[a].text;
                foundationS = 39;
                deck.shift()
                let b = deck[0];
                document.getElementById("new-card").innerHTML = shuffledArray[b].text;
                return;
            }
            else{
                return;
            }
        }
        else{
            let c = shuffledArray[a].id;
            let newID = c+1;
            if(newID==foundationS){
                document.getElementById("SF").innerHTML = shuffledArray[a].text;
                foundationS += 1;
                deck.shift()
                let b = deck[0];
                document.getElementById("new-card").innerHTML = shuffledArray[b].text;
                return;
            }
            else{
                return;
            }
        }        
    }
}

function SwapDeck(){
    deck.push(deck[0]);
    deck.shift();
    let a = deck[0];
    document.getElementById("new-card").innerHTML = shuffledArray[a].text;
    //console.log(deck,shuffledArray[a].col);
    if( shuffledArray[a].col == "R"){
        document.getElementById("new-card").style.color = "red";
    }
    else{
        document.getElementById("new-card").style.color = "black";
    }

}

let shuffledArray = cardArrayA.slice();
shuffle(shuffledArray);



//console.log(shuffledArray[0]);

/*document.getElementById("0").innerHTML = shuffledArray[0].text;
document.getElementById("1").innerHTML = shuffledArray[1].text;
document.getElementById("2").innerHTML = shuffledArray[2].text;
document.getElementById("3").innerHTML = shuffledArray[3].text;
document.getElementById("4").innerHTML = shuffledArray[4].text;
document.getElementById("5").innerHTML = shuffledArray[5].text;
document.getElementById("6").innerHTML = shuffledArray[6].text;*/

let boardContainer = document.getElementById("board-container");

/*let num8 = document.createElement('div');
num8.classList.add('card');
num8.classList.add('second-row');
num8.id = 8;
boardContainer.append(num8);*/

for(let i=0;i<140;i++){
   // let a = i+1;
    let newCard = document.createElement('div');
    newCard.classList.add('card');
    if(i>6){
        newCard.classList.add('second-row');
    }    
    newCard.id = i;
    boardContainer.append(newCard);
    if(i<52){
        document.getElementById(`${i}`).innerHTML = shuffledArray[i].text;
    }
    else{
        document.getElementById(`${i}`).style.visibility = "hidden";
        
    }
}

//document.getElementById("8").innerHTML = shuffledArray[6].text;
//document.getElementById("8").innerHTML = shuffledArray[7].text;

let hidden = [7,14,21,28,35,42,49,15,22,29,36,43,50,23,30,37,44,51,31,38,45,39,46,47];
let front = [0,8,16,24,32,40,48]
let deck = [];

for(let i=0;i<52;i++){    
    if(shuffledArray[i].col == "R"){
        document.getElementById(`${i}`).style.color = "red";
    }
    else{
        document.getElementById(`${i}`).style.color = "black";
    }
    if(hidden.indexOf(i)!==-1){
        document.getElementById(`${i}`).style.visibility = "hidden";
        deck.push(i);
    }
    if(front.indexOf(i)==-1){
        document.getElementById(`${i}`).classList.add("covered");
       // document.getElementById(`${i}`).innerHTML = "";
    }
}
//console.log(deck);

let firstDeck = deck[0];
document.getElementById("new-card").innerHTML = shuffledArray[firstDeck].text;
if(shuffledArray[firstDeck].col == "R"){
        document.getElementById("new-card").style.color = "red";
}
else{
    document.getElementById("new-card").style.color = "black";
}
/*if(shuffledArray[6].col == "R"){
    document.getElementById("7").style.color = "red";
}
else{
document.getElementById("7").style.color = "black";
}*/
</script>
</html>